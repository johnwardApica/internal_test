{
  "tabs": [
    {
      "key": "system",
      "title": "System",
      "order": "1",
      "type": "metrics",
      "queriesList": [
        {
          "query": "sum by (hostname) (system_up_time{ostype=~'linux|windows',hostname=~'.*'}) / 3600",
          "chart_type": "Table",
          "name": "Host Status",
          "schema": "target_info",
          "options": {
            "label": "Actual",
            "order": 1,
            "description": "Host Status",
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "value",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "sum by (hostname) (objects_processes{hostname=~'.*'})&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Processes",
          "schema": "objects_processes",
          "options": {
            "order": 2,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "sum by (hostname) (objects_threads{hostname=~'.*'})&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Threads",
          "schema": "objects_threads",
          "options": {
            "order": 3,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "sum by (hostname) (system_processor_queue_length{hostname=~'.*'})&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Processor Queue Length",
          "schema": "system_processor_queue_length",
          "options": {
            "order": 4,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "sum by (hostname) (system_system_calls_sec{hostname=~'.*'})&duration=1h&step=5m",
          "chart_type": "line",
          "name": "System Calls",
          "schema": "system_processor_queue_length",
          "options": {
            "label": "/sec",
            "order": 5,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "sum by (hostname) (system_context_switches_sec{hostname=~'.*'})&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Context Switches",
          "schema": "system_context_switches_sec",
          "options": {
            "label": "/sec",
            "order": 6,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "sum by (hostname) (system_file_control_operations_sec{hostname=~'.*'})&duration=1h&step=5m",
          "chart_type": "line",
          "name": "File Control Operations",
          "schema": "system_file_control_operations_sec",
          "options": {
            "label": "/sec",
            "order": 7,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "(sum by (hostname) (system_file_data_operations_sec{hostname=~'.*'})&duration=1h&step=5m",
          "chart_type": "line",
          "name": "File Data Operations",
          "schema": "system_file_data_operations_sec",
          "options": {
            "label": "/sec",
            "order": 8,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "sum by (hostname) (system_registry_quota_in_use_percent{hostname=~'.*'})&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Percent Registry Quota In Use",
          "schema": "system_registry_quota_in_use_percent",
          "options": {
            "label": "%",
            "order": 9,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "%",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        }
      ]
    },
    {
      "key": "compute",
      "title": "Compute",
      "type": "metrics",
      "order": "2",
      "queriesList": [
        {
          "query": "round((1-(max_over_time(system_cpu_utilization_ratio{ostype=~'linux|windows',state=~'idle',hostname=~'.*'}[5m])))*100,0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "CPU Utilization (Max)",
          "schema": "system_cpu_utilization_ratio",
          "options": {
            "label": "%",
            "order": 1,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "%",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round((1-(avg_over_time(system_cpu_utilization_ratio{ostype=~'linux|windows',state=~'idle',hostname=~'.*'}[5m])))*100,0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "CPU Utilization (Avg)",
          "schema": "system_cpu_utilization_ratio",
          "options": {
            "label": "%",
            "order": 2,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "%",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(max_over_time(system_cpu_load_average_5m{ostype=~'linux|windows',hostname=~'.*'}[5m])*100,0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Load Average (max)",
          "schema": "system_cpu_load_average_5m",
          "options": {
            "label": "Actual",
            "order": 3,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "avg # of runnable processes",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(avg_over_time(system_cpu_load_average_5m{ostype=~'linux|windows',hostname=~'.*'}[5m])*100,0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Load Average (avg)",
          "schema": "system_cpu_load_average_5m",
          "options": {
            "label": "Actual",
            "order": 4,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "avg # of runnable processes",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "100*sum by (hostname) (1-system_memory_utilization_ratio{ostype=~'linux|windows', hostname=~'.*',state='free'})&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Machine Memory Utilisation (%)",
          "schema": "system_cpu_load_average_5m",
          "options": {
            "label": "%",
            "order": 6,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "%",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round((avg by (hostname) (irate(system_cpu_time_seconds_total{ostype=~'linux|windows',hostname=~'.*',state='wait'}[5m]))) * 100,0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "CPU I/O Wait",
          "schema": "system_cpu_time_seconds_total",
          "options": {
            "label": "%",
            "order": 7,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "seconds",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        }
      ]
},
    {
      "key": "storage",
      "title": "Storage",
      "type": "metrics",
      "order": "3",
      "queriesList": [
        {
          "query": "(sum by (hostname) (rate(system_disk_io_bytes_total{ostype=~'linux|windows',device=~'.*',hostname=~'.*',direction='write'}[5m])))&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Local Storage Write I/O",
          "schema": "",
          "options": {
            "label": "Bytes/sec",
            "order": 1,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "Bytes/sec",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "(sum by (hostname) (rate(system_disk_io_bytes_total{ostype=~'linux|windows',device=~'.*',hostname=~'.*',direction='read'}[5m])))&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Local Storage Read I/O",
          "schema": "",
          "options": {
            "label": "Bytes/sec",
            "order": 2,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "Bytes/sec",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "100 * (sum by (hostname) (system_filesystem_usage_bytes{ostype=~'linux',hostname=~'.*', job='prom-metrics-collector', state='used',type='ext4',hostname=~'.*'}) /sum by (hostname) (system_filesystem_usage_bytes{ostype=~'linux',hostname=~'.*', job='prom-metrics-collector', state=~'.*',type='ext4'}))&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Local Storage Space Used (%)",
          "schema": "",
          "options": {
            "label": "%",
            "order": 3,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "%",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "100 * (sum by (hostname) (avg_over_time(system_filesystem_inodes_usage{ostype=~'linux|windows',device=~'.*',hostname=~'.*'}[5m])))&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Local Storage iNodes (%)",
          "schema": "",
          "options": {
            "label": "Count",
            "order": 4,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "Count",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        }
      ]
    },
    {
      "key": "memory",
      "title": "Memory",
      "type": "metrics",
      "order": "4",
      "queriesList": [
        {
          "query": "sum by (hostname) (system_memory_usage_bytes{ostype=~'linux', hostname=~'.*'})&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Memory Usage",
          "schema": "system_memory_usage_bytes",
          "options": {
            "label": "GiB",
            "order": 1,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "GiB",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round((sum by (hostname) (system_linux_memory_available_bytes{ostype='linux', hostname=~'.*'}))/(1024*1024*1024),0.01)",
          "chart_type": "table",
          "name": "Memory available (GiB)",
          "schema": "system_linux_memory_available_bytes",
          "options": {
            "label": "GiB",
            "order": 2,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "%",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "100*sum by (hostname) (1-system_memory_utilization_ratio{ostype='linux', hostname=~'.*',state='free'})&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Memory utilization",
          "schema": "system_memory_usage_bytes",
          "options": {
            "label": "%",
            "order": 3,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "%",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        }
      ]
    },
    {
      "key": "network",
      "title": "Network",
      "type": "metrics",
      "order": "5",
      "queriesList": [
        {
          "query": "round(sum by (hostname) (rate(system_network_io_bytes_total{ostype=~'linux',hostname=~'.*',direction='transmit'}[5m])),0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Network Tx Throughput",
          "schema": "system_network_io_bytes_total",
          "options": {
            "label": "Bytes/sec",
            "order": 1,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "Bytes/sec",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(sum by (hostname) (rate(system_network_io_bytes_total{ostype=~'linux',hostname=~'.*',direction='receive'}[5m])),0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Network Rx Throughput",
          "schema": "system_network_io_bytes_total",
          "options": {
            "label": "Bytes/sec",
            "order": 2,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "Bytes/sec",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(sum by (hostname) (rate(system_network_connections{ostype=~'linux',hostname=~'.*',state='ESTABLISHED'}[15m])),0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Network connections",
          "schema": "system_network_connections",
          "options": {
            "label": "Connections/sec",
            "order": 3,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "Connections/sec",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(sum by (hostname) (rate(system_network_dropped_total{ostype=~'linux',hostname=~'.*'}[15m])),0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Network Packets Dropped",
          "schema": "system_network_dropped_total",
          "options": {
            "label": "Packets/sec",
            "order": 4,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "Packets/sec",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(sum by (hostname) (rate(system_network_packets_total{ostype=~'linux',hostname=~'.*'}[15m])),0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Network Packets Transferred",
          "schema": "system_network_packets_total",
          "options": {
            "label": "Packets/sec",
            "order": 5,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "Packets/sec",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(sum by (hostname) (rate(system_network_errors_total{ostype=~'linux',hostname=~'.*',direction='receive'}[5m])),0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Network Rx error rate",
          "schema": "system_network_io_bytes_total",
          "options": {
            "label": "Errors/sec",
            "order": 6,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "Errors/sec",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(sum by (hostname) (rate(system_network_errors_total{ostype=~'linux',hostname=~'.*',direction='transmit'}[5m])),0.01)&duration=1h&step=5m",
          "chart_type": "line",
          "name": "Network Tx error rate",
          "schema": "system_network_io_bytes_total",
          "options": {
            "label": "Errors/sec",
            "order": 7,
            "plot" : {
              "xLabel" : "Timestamp",
              "yLabel": "Errors/sec",
              "x" : "Timestamp",
              "y": ["value"],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        }
      ]
    }
  ],
  "header": {
    "dateTimeRange": true,
    "dropdowns": [
      {
        "hostname": {
          "query": "sum by (hostname) (target_info{ostype=~'linux|windows'})",
          "name": "Host Selection",
          "data_source_name": "Apica Monitoring"
        }
      }
    ]
  }
}
